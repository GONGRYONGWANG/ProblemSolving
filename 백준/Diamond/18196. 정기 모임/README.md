# [Diamond V] 정기 모임 - 18196 

[문제 링크](https://www.acmicpc.net/problem/18196) 

### 성능 요약

메모리: 87448 KB, 시간: 1224 ms

### 분류

자료 구조, 최소 공통 조상, 세그먼트 트리, 희소 배열, 트리

### 제출 일자

2025년 3월 18일 00:10:55

### 문제 설명

<p>정점이 <em>N</em>개인 트리가 주어진다. 각 정점은 1번부터 <em>N</em>번까지 차례대로 번호가 부여되어 있다. <em>i</em>번째 간선은 <em>A<sub>i</sub></em>번 정점과 <em>B<sub>i</sub></em>번 정점을 연결하며, 가중치는 <em>C<sub>i</sub></em>다(1 ≤ <em>i</em> < <em>N</em>).</p>

<p>트리에서 두 정점 사이의 거리는 그 둘을 잇는 최단경로 상의 간선의 가중치의 최댓값으로 정의한다. 단, 같은 두 정점 사이의 거리는 0으로 정의한다.</p>

<p>트리에 사는 사람들이 <em>Q</em>개의 모임을 개최하려 한다. <em>i</em>번째 모임에는 <em>S<sub>i</sub></em> 이상 <em>E<sub>i</sub></em> 이하의 번호를 가진 정점에 사는 사람들이 참석한다. 각 모임은 트리 상의 어떤 정점 <em>v</em>에서 이루어진다. 사람들이 모이는 정점 <em>v</em>를 잘 정하여, 모임에 참석하는 각 사람이 정점 <em>v</em>까지 이동하는 거리의 최댓값을 최소화하고자 한다.</p>

<p>이때 이 최솟값을 구하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫 번째 줄에 트리의 정점 개수를 의미하는 자연수 <em>N</em>과 모임이 개최되는 횟수를 의미하는 자연수 <em>Q</em>가 사이에 공백을 두고 주어진다.</p>

<p>두번째 줄부터 (<em>N</em>-1)개의 줄에 걸쳐, 트리의 간선에 관한 정보가 주어진다. (<em>i</em>+1)번째 줄에는 세 개의 자연수 <em>A<sub>i</sub></em>, <em>B<sub>i</sub></em>, <em>C<sub>i</sub></em>가 사이에 공백을 두고 주어진다(1 ≤ <em>i</em> < <em>N</em>). 이는 <em>A<sub>i</sub></em>번 정점과 <em>B<sub>i</sub></em>번 정점을 연결하는 가중치 <em>C<sub>i</sub></em>의 간선이 존재함을 의미한다.</p>

<p>(<em>N</em>+1)번째 줄부터 <em>Q</em>개의 줄에 걸쳐, <em>Q</em>개의 모임에 관한 정보가 주어진다. (<em>N</em>+<em>i</em>)번째 줄에는 <em>i</em>번째 모임을 나타내는 두 개의 자연수 <em>S<sub>i</sub></em>와 <em>E<sub>i</sub></em>가 사이에 공백을 두고 주어진다(1 ≤ <em>i</em> ≤ <em>Q</em>).</p>

### 출력 

 <p>첫 번째 줄부터 <em>Q</em>개의 줄에 걸쳐, 답을 차례대로 출력한다. <em>i</em>번째 줄에는 <em>i</em>번째 모임에 대한 답을 출력한다(1 ≤ <em>i</em> ≤ <em>Q</em>).</p>

