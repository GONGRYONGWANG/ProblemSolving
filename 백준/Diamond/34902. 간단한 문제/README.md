# [Diamond V] 간단한 문제 - 34902 

[문제 링크](https://www.acmicpc.net/problem/34902) 

### 성능 요약

메모리: 2180 KB, 시간: 60 ms

### 분류

애드 혹, 불변량 찾기

### 제출 일자

2025년 12월 7일 13:49:40

### 문제 설명

<p>$1$이상 $N$이하인 서로 다른 $N$개의 수가 원형으로 나열되어 있다. 구체적으로, 시계방향으로 $i$번째 칸에는 $A_i$가 적혀있으며 $1\leq i \leq N-1$인 모든 $i$에 대해 $i$번째 칸과 $i+1$번째 칸이 인접하고 $N$번째 칸과 $1$번째 칸이 인접해있다. 당신은 다음과 같은 시행을 원하는 만큼 할 수 있다.</p>

<ul>
<li>인접해있으며 차가 $1$, $N-1$이 아닌 두 수의 위치를 바꾼다.</li>
</ul>

<p>길이가 $M$인 수열 $B$에 대해 수들을 시계방향으로 봤을 때 $B$가 연속 부분수열<sup>[1]</sup>로 나타나게 하는것이 가능한지 판별해보자.</p>

<hr>
<p><sup>[1]</sup>원형으로 나열된 수열 $A = [A_1, A_2, \cdots, A_N]$에서 어떤 $1 \leq L, x \leq N$에 대해 $[A_{((L-1) \bmod N)+1}, A_{(L \bmod N)+1}, \cdots, A_{((L+x-2) \bmod N)+1}]$ 형태로 나타나는 부분수열을 $A$의 연속 부분수열이라 한다. 예를 들어, $N=5$, $L=4$, $x=4$일 때 해당 연속 부분수열은 $[A_4, A_5, A_1, A_2]$가 된다.</p>

### 입력 

 <p>첫째 줄에 테스트 케이스의 개수 $T$가 주어진다. $(1\leq T \leq 10\,000)$</p>

<p>각 테스트 케이스의 첫째 줄에 두 정수 $N$과 $M$이 공백으로 구분되어 주어진다. $(3\leq N \leq 300\,000; 2\leq M \leq N)$</p>

<p>각 테스트 케이스의 둘째 줄에 $N$개의 정수 $A_1, A_2, \cdots, A_N$이 공백으로 구분되어 주어진다. $N$개의 수가 모두 다름이 보장된다. $(1\leq A_i \leq N)$</p>

<p>각 테스트 케이스의 셋째 줄에 $M$개의 정수 $B_1, B_2, \cdots, B_M$이 공백으로 구분되어 주어진다. $M$개의 수가 모두 다름이 보장된다. $(1\leq B_i \leq N)$</p>

<p>모든 테스트 케이스에 대해 $N$의 합은 $300\,000$을 넘지 않는다.</p>

### 출력 

 <p>각 테스트 케이스마다 가능하다면 <span style="color:#e74c3c;"><code>Yes</code></span>, 불가능하다면 <span style="color:#e74c3c;"><code>No</code></span>를 출력한다.</p>

