# [Platinum III] 가희와 서울 지하철 1호선 - 27886 

[문제 링크](https://www.acmicpc.net/problem/27886) 

### 성능 요약

메모리: 10620 KB, 시간: 296 ms

### 분류

자료 구조, 느리게 갱신되는 세그먼트 트리, 수학, 정수론, 세그먼트 트리

### 제출 일자

2025년 8월 5일 03:07:21

### 문제 설명

<p>서울 지하철 1호선은 <code>n</code>개의 역이 있습니다. <code>1</code>번 역을 출발하여, <code>n</code>번 역을 종착하는 하행 열차는 1번 역, 2번 역, ... , <code>n</code>번 역 순서대로 역에 도착하게 됩니다. 가희는 해당 노선을 운행하는 열차들을 관찰하다가 몇 가지 특징을 발견하였습니다.</p>

<ul>
	<li>열차가 하행 열차인 경우, <strong>시발역부터 종착역까지 가는 동안 거쳐 가는 역들에 쓰인 수들</strong>의 <strong>최소 공배수</strong>를 열차 번호로 가집니다.</li>
</ul>

<p>예를 들어, 해당 노선에 3개의 역이 있고, 1번 역에는 3, 2번 역에는 1, 3번 역에는 수 1이 있다고 해 보겠습니다. 하행 열차가 1번 역에서 출발하여 3번 역에 종착하는 경우, 거쳐 가는 역은 1번, 2번, 3번 역입니다. 이때, 이 열차는 3, 1, 1의 최소공배수인 3을 열차 번호로 가지게 됩니다. <strong>하행 열차 <code>Q</code>편</strong>의 시발역, 종착역, 열차 번호가 주어졌을 때, 1번 역부터 <code>n</code>번 역까지 역에 쓰인 수를 출력해 주세요. </p>

### 입력 

 <p>첫 번째 줄에 <code>n</code>과 <code>Q</code>가 공백으로 구분되어 주어집니다.</p>

<p>다음 <code>Q</code>개의 줄에 시발역의 번호, 종착역의 번호, 하행 열차 번호가 공백으로 구분되어 주어집니다.</p>

### 출력 

 <p><code>n</code>개의 역에 쓰인 수들을 출력해 주세요. 이때, 수들은 <code>1</code>이상 <code>2×10<sup>6</sup></code>이하여야 합니다. 만약 불가능하다면, <code>-1</code>을 출력해 주세요.</p>

