# [Gold II] 이진 검색 트리 복원하기 - 32028 

[문제 링크](https://www.acmicpc.net/problem/32028) 

### 성능 요약

메모리: 16956 KB, 시간: 120 ms

### 분류

자료 구조, 구현, 정렬, 트리

### 제출 일자

2024년 7월 14일 14:31:38

### 문제 설명

<p>찬솔이는 <em>N</em>개의 노드에 정수가 적혀있는 이진 검색 트리를 만들었다. 이진 검색 트리는 모든 노드 <em>i</em>에 대해서, <em>i</em>의 왼쪽 자손 노드에 적힌 수는 모두 <em>i</em>에 적힌 수보다 작고, <em>i</em>의 오른쪽 자손 노드에 적힌 수는 모두 <em>i</em>에 적힌 수보다 큰 이진 트리이다.</p>

<p>찬솔이는 모든 <em>i</em>에 대해서 이진 검색 트리의 <em>i</em>번 노드의 깊이 <em>H</em><sub><em>i</em></sub>와 이진 검색 트리의 <em>i</em>번 노드에 적힌 정수 <em>A</em><sub><em>i</em></sub>를 기록해두었다. 이때, <em>A</em><sub><em>i</em></sub>는 모두 다르고 루트 노드의 깊이는 1이다. (1 ≤ <em>i</em> ≤ <em>N</em>)</p>

<p>찬솔이는 ICPC World Finals에 다녀오는 동안 이진 검색 트리를 잃어버렸다. 찬솔이를 위해 이전에 기록해둔 정보를 이용하여 이진 검색 트리를 복원해주자.</p>

### 입력 

 <p>첫 줄에 노드의 개수 <em>N</em>이 주어진다. (1 ≤ <em>N</em> ≤ 200 000)</p>

<p>둘째 줄부터 <em>N</em>개의 줄에 걸쳐 트리의 노드 정보가 주어진다. 모든 1 ≤ <em>i</em> ≤ <em>N</em>에 대해, (<em>i</em> + 1)번째 줄에는 <em>i</em>번 노드에 적힌 정수 <em>A</em><sub><em>i</em></sub>와 <em>i</em>번 노드의 깊이 <em>H</em><sub><em>i</em></sub>가 공백으로 구분되어 주어진다. (−2 ⋅ 10<sup>9</sup> ≤ <em>A</em><sub><em>i</em></sub> ≤ 2 ⋅ 10<sup>9</sup>; 1 ≤ <em>H</em><sub><em>i</em></sub> ≤ <em>N</em>) <em>A</em><sub><em>i</em></sub>는 모두 다르다.</p>

### 출력 

 <p>만약 주어진 기록으로 이진 검색 트리를 복원할 수 없다면 −1을 출력한다.</p>

<p>복원할 수 있다면 트리의 구조를 <em>N</em>개의 줄에 걸쳐 출력한다.</p>

<p><em>i</em>번째 줄에는 <em>i</em>번 노드의 왼쪽 자식과 오른쪽 자식의 노드 번호를 출력한다. 자식이 없으면 자식의 노드 번호로 −1을 출력한다.</p>

<p>만약 복원할 수 있는 트리가 여러 개라면 아무거나 복원해도 된다.</p>

