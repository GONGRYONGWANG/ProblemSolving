# [Gold II] 긴장한 아리와 쿠기의 카드게임 - 25171 

[문제 링크](https://www.acmicpc.net/problem/25171) 

### 성능 요약

메모리: 2156 KB, 시간: 788 ms

### 분류

두 포인터

### 제출 일자

2024년 12월 18일 20:02:20

### 문제 설명

<p>아리와 쿠기는 같이 카드게임을 하고 있다. 이 게임은 둘이 협동하여 소환수를 소환해, 몬스터를 잡는 협동 게임이다. 이 게임에 쓰이는 카드에는 수가 적혀 있다. 아리와 쿠기가 뽑는 카드에 따라 소환수의 공격력과 생명력이 달라지게 되며 왼쪽에서 오른쪽으로 1번 카드부터 <em>N</em>번 카드까지 카드를 나열한다.</p>

<p>게임의 규칙은 다음과 같다.</p>

<ol>
	<li>아리와 쿠기는 일렬로 나열된 카드를 각 1회 뽑게 되며 아리가 먼저 카드를 뽑는다. 나열된 카드에서 한 번에 여러 장의 연속된 카드를 뽑을 수 있다. 아리가 [<em>i</em>, <em>j</em>]의 구간의 카드를 선택하였다면, 해당 카드는 아리가 가져가게 되고, 쿠기는 남은 카드에서 여러 장의 연속된 카드를 뽑는다.</li>
	<li>소환수의 공격력은 아리가 뽑은 카드의 수의 총합으로 결정이 되고, 생명력은 쿠기가 뽑은 카드의 수의 총합으로 결정된다.</li>
	<li>소환수와 몬스터 둘 중 하나가 생명력이 0보다 작거나 같을 때 까지 공격을 하게 되며, 공격을 하게 되면 공격력 만큼 생명력이 줄어들게 된다. 소환수와 몬스터는 서로 동시에 공격을 한다. 몬스터의 생명력이 먼저 0보다 작거나 같게 된다면 아리와 쿠기의 승리가 되고, 소환수의 생명력이 먼저 0이 되거나 작게 되거나, 동시에 생명력이 0과 같거나 작게 된다면 아리와 쿠기의 패배이다.</li>
</ol>

<p>예를 들어, 5장의 카드 [1, 2, 3, 5, 7] 이 주어졌을 때 아리가 3번째 카드를 고른다면, 쿠기는 남은 카드 [1, 2, 5, 7]에서 연속되게 카드를 뽑을 수 있다.</p>

<p>아리와 쿠기를 도와서 게임을 이기도록 하자.</p>

### 입력 

 <p>1번째 줄에 <em>N</em>장의 카드(2 ≤ <em>N</em> ≤ 500)이 주어진다.</p>

<p>2번째 줄에 몬스터의 공격력 <em>X</em>(1 ≤ <em>X</em> ≤ 100,000,000)와 생명력 <em>Y</em>(1 ≤ <em>Y</em> ≤ 100,000,000)가 주어진다.</p>

<p>3번째 줄에 나열된 <em>N</em>장의 카드의 수가 주어진다. 카드의 수는 1보다 크거나 같고 10,000,000보다 작거나 같다.</p>

### 출력 

 <p>아리와 쿠기의 승리가 가능한 경우의 수를 출력, 어떠한 경우에도 아리와 쿠기가 승리를 할 수 있는 경우가 없다면 "<code>IMPOSSIBLE</code>"을 출력한다.</p>

